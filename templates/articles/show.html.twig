{% extends 'base.html.twig' %}

{% block title %}
	{{ article.title|capitalize }}
{% endblock %}

{% block body %}
	<div class="article">
		<div class="card mb-3">
			<h3 class="card-header">{{ article.title }}</h3>
			<div class="card-body">
				<h5 class="card-title">{{ article.subTitle }}</h5>
				<h6 class="card-subtitle text-muted">{{ article.date ? article.date|date('Y-m-d H:i:s') : '' }}</h6>
			</div>
			<img src="{{ asset('/asset/pictures/' ~ article.image) }}" class="d-block user-select-none" width="100%" height="200" aria-label="Placeholder: Image cap" focusable="false" role="img" preserveaspectratio="xMidYMid slice" viewbox="0 0 318 180" style="font-size:1.125rem;text-anchor:middle">
			<div class="card-body">
				<p class="card-text">{{ article.articleContent|slice(1,255) ~ '...' }}</p>
			</div>
			{% if app.user %}
				<div>
					{{ include('like/_form.html.twig') }}
					{{ include('share/_form.html.twig') }}
				</div>
			{% endif %}
		</div>
	</div>

	{% for comment in comments %}
		<div class="comments">
			<div class="card mb-3">
				<h3 class="card-header">Ecrit par
					{{ comment.user }}
				</h3>
				<div class="card-body">
					<h5 class="card-title">{{ comment.comment }}</h5>
					<h6 class="card-subtitle text-muted">{{ comment.date ? comment.date|date('Y-m-d H:i:s') : '' }}</h6>
				</div>
			</div>
		</div>
	{% endfor %}

	{% if app.user %}
		<div class="comment_form">
			{{ include('comments/_form.html.twig') }}
		</div>
	{% endif %}
	<div class="button">
		<a class="btn btn-primary" href="{{ path('accueil') }}">Retour Ã  l'accueil</a>
	</div>
	{% if app.user and is_granted('ROLE_ADMIN') %}
		<a href="{{ path('articles_edit', {'id': article.id}) }}">edit</a>

		{{ include('articles/_delete_form.html.twig') }}
	{% endif %}
{% endblock %}
